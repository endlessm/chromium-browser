{"version":3,"sources":["url-loader/fetch-url-loader.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;GAYG;;AAEH,6BAA0C;AAK1C;;GAEG;AACH;IAGE,YAAY,OAAe;QACzB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;IAED,QAAQ,CAAC,GAAW;QAClB,MAAM,CAAC,IAAI,CAAC,OAAO,GAAG,aAAU,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;IAC5D,CAAC;IAED,OAAO,CAAC,CAAS;QACf,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAED,IAAI,CAAC,GAAW;QACd,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,QAAa;YACzD,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;gBAChB,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YACzB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,OAAe;oBAC1C,MAAM,IAAI,KAAK,CAAC,oBAAoB,OAAO,EAAE,CAAC,CAAC;gBACjD,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AA1BD,wCA0BC","file":"fetch-url-loader.js","sourcesContent":["/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {resolve as resolveUrl} from 'url';\nimport {UrlLoader} from './url-loader';\n\ndeclare const window: any;\n\n/**\n * Resolves requests via the the DOM fetch API.\n */\nexport class FetchUrlLoader implements UrlLoader {\n  baseUrl: string;\n\n  constructor(baseUrl: string) {\n    this.baseUrl = baseUrl;\n  }\n\n  _resolve(url: string) {\n    return this.baseUrl ? resolveUrl(this.baseUrl, url) : url;\n  }\n\n  canLoad(_: string): boolean {\n    return true;\n  }\n\n  load(url: string): Promise<string> {\n    return window.fetch(this._resolve(url)).then((response: any) => {\n      if (response.ok) {\n        return response.text();\n      } else {\n        return response.text().then((content: string) => {\n          throw new Error(`Response not ok: ${content}`);\n        });\n      }\n    });\n  }\n}\n"]}